(this["webpackJsonptnp-nsut"]=this["webpackJsonptnp-nsut"]||[]).push([[13],{169:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=e=>{let t=new Date(e);return t.setHours(t.getHours()),t.setMinutes(t.getMinutes()),t}},170:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var n=a(32);async function l(e){const t=new FormData;return t.append("files",e),await n.b.post("/upload",t)}async function r(e,t){if(!e)return;const a=await l(e);return await n.b.put("/students/resume",{uploadId:a.data[0]._id,index:t})}async function i(e){if(e)return await n.b.put("/students/resume/"+e)}},192:function(e,t,a){e.exports={outerdiv:"Companydetails_outerdiv__3K0H1",companybar:"Companydetails_companybar__23Sj-",wrapper:"Companydetails_wrapper__z9mdp",contentdiv:"Companydetails_contentdiv__1tnFf",resumediv:"Companydetails_resumediv__2HLKP",hero:"Companydetails_hero__19a3J",companylogo:"Companydetails_companylogo__3MDiK",typetag:"Companydetails_typetag__2OlVK",parent:"Companydetails_parent__28pXE",parenttag:"Companydetails_parenttag__1nQ84",file:"Companydetails_file__2UJ9i",fileicon:"Companydetails_fileicon__3-M_8",filetitle:"Companydetails_filetitle__3KaqA",downloadicon:"Companydetails_downloadicon__1U-ng",eligiblewrapper:"Companydetails_eligiblewrapper__2zcKs",companycontentwrapper:"Companydetails_companycontentwrapper__1ZZrW"}},193:function(e,t,a){"use strict";var n=a(3),l=a(2),r=a(5),i=a.n(r),o=a(0),c=a.n(o),s=a(24),d=a(6),m=a(55),p=Object(s.a)("input-group-text",{Component:"span"}),u=c.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.size,o=e.className,s=e.as,m=void 0===s?"div":s,p=Object(n.a)(e,["bsPrefix","size","className","as"]);return a=Object(d.a)(a,"input-group"),c.a.createElement(m,Object(l.a)({ref:t},p,{className:i()(o,a,r&&a+"-"+r)}))}));u.displayName="InputGroup";var g=Object(l.a)({},u,{Text:p,Radio:function(e){return c.a.createElement(p,null,c.a.createElement(m.a,Object(l.a)({type:"radio"},e)))},Checkbox:function(e){return c.a.createElement(p,null,c.a.createElement(m.a,Object(l.a)({type:"checkbox"},e)))}});t.a=g},318:function(e,t,a){"use strict";a.r(t);var n=a(12),l=a(30),r=a(31),i=a(193),o=a(62),c=a(0),s=a.n(c),d=a(32),m=a(66),p=a(17),u=a(70),g=a(192),y=a.n(g),E=a(169),v=a(170);t.default=e=>{var t,a;let{match:g}=e;const{params:f}=g,{state:h}=Object(c.useContext)(p.a),[b,x]=Object(c.useState)({}),[_,w]=Object(c.useState)(!0),[N,S]=Object(c.useState)([]),[C,k]=Object(c.useState)(""),[z,j]=Object(c.useState)(),[O,A]=Object(c.useState)(null),[D,R]=Object(c.useState)([]),[q,B]=Object(c.useState)(!0);console.log(D);const[P,F]=Object(c.useState)({loading:!1,success:!1,error:!1}),[T,I]=Object(c.useState)(!1),[K,W]=Object(c.useState)(!1),{showNotification:G}=Object(c.useContext)(u.a),[H,J]=Object(c.useState)([]),[L,M]=Object(c.useState)(!1);const U=async()=>{F(e=>({...e,loading:!0}));try{if(H&&H.length>0){const e=await Promise.all(H.map(e=>{let{file:t,question:a}=e;return async function(e,t){if(!e)return;const a=new FormData;try{a.append(""+t,e);const n=await v.b(e);return 200===n.status&&(D.map(e=>{var t;"file"==e.type&&(e.expectedAns=null===n||void 0===n||null===(t=n.data[0])||void 0===t?void 0:t.url)}),!0)}catch(n){return!1}}(t,a)}));if(!e.every(e=>!0===e))return void G("Failed to apply in the company Event")}await d.b.put("/company-events/apply/"+f.eventid,{studentID:h.userDetails.student,student_resume:C,Additional_answers:D});I(!0),F(e=>({...e,loading:!1,success:!0})),G("Successfully Applied!")}catch(e){F(e=>({...e,loading:!1,success:!1,error:!0})),G("Failed to apply in the company Event"),console.log(e)}};if(Object(c.useEffect)(()=>{(async()=>{try{F(e=>({...e,loading:!0}));const e=await d.b.get("/company-events/"+f.eventid);!0===e.data.is_additional_ques?(A(e.data.additional_ques),R(e.data.additional_ques),B(!1)):(A(null),R(null));const t={};e.data.branchesAllowed.forEach(e=>{const{branch:a,degree:n}=e;n in t?t[n].push(a):t[n]=[a]}),e.data.branchesAllowed=t,x(e.data),F(e=>({...e,loading:!1}))}catch(e){console.log(e)}})(),(async()=>{try{const e=await d.b.get(`/company-events/is_student_eligible/${f.eventid}?studentID=${h.userDetails.student}`);e.data.eligible.conditions.already_applied&&I(!0),e.data.eligible.conditions.already_placed&&W(!0),j(e.data.eligible.conditions),F(e=>({...e,loading:!1})),w(e.data.eligible.status)}catch(e){console.log(e)}})(),(async()=>{try{F(e=>({...e,loading:!0}));const e=await d.b.get("/students/resumes");S(e.data.resumes),k(e.data.resumes[0].url),F(e=>({...e,loading:!1}))}catch(e){console.log(e)}})()},[]),P.loading)return s.a.createElement(m.a,null);const Y=new Date(b.lastDate).getTime()<Date.now();return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:y.a.outerdiv},s.a.createElement("div",{className:y.a.companybar},s.a.createElement("h6",null,b.company?b.company.Name:""," |"," ",b.jobtitle)),s.a.createElement("div",{className:y.a.wrapper},s.a.createElement("div",{className:y.a.contentdiv},s.a.createElement("div",{className:y.a.hero}),s.a.createElement("div",{className:y.a.companylogo+" d-flex justify-content-center align-items-center"},s.a.createElement("img",{src:`https://tnp-company-logos.s3.ap-south-1.amazonaws.com/${(null===(t=b.company)||void 0===t?void 0:t.Name)||"default"}.png`,alt:"Keep going!! You'll reach there.",style:{width:"80%"},onError:e=>{e.target.onerror=null,e.target.src="https://upload.wikimedia.org/wikipedia/en/thumb/e/e9/Netaji_Subhas_University_of_Technology.svg/1200px-Netaji_Subhas_University_of_Technology.svg.png"}})),s.a.createElement("div",{className:y.a.companycontentwrapper},s.a.createElement("div",{style:{padding:"30px 0px 0px"}},s.a.createElement("h3",null,b.jobtitle),s.a.createElement("h6",null,b.company?b.company.Name:""),s.a.createElement("div",{className:y.a.typetag},b.type),s.a.createElement("hr",{style:{marginTop:"30px"}})),s.a.createElement("div",{style:{padding:"30px 0"}},s.a.createElement("div",{style:{marginBottom:"30px"}},s.a.createElement("h5",null,"Opening Overview"),s.a.createElement("hr",null)),s.a.createElement("div",null,s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Place of Posting"),s.a.createElement("div",{className:y.a.parentcontent},b.placeOfPosting)),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Batch"),s.a.createElement("div",{className:y.a.parentcontent},b.batch)),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"CTC/Stipend"),s.a.createElement("div",{className:y.a.parentcontent},b.stipend)),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"CTC/Stipend Info."),s.a.createElement("div",{className:y.a.parentcontent},b.stipend_info?b.stipend_info:"Not Mentioned")),("Placement"===b.type||"Internship"===b.type)&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"CGPA"),s.a.createElement("div",{className:y.a.parentcontent},b.cgpa)),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Category"),s.a.createElement("div",{className:y.a.parentcontent},null===(a=b.category)||void 0===a?void 0:a.toUpperCase())),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Backlogs"),s.a.createElement("div",{className:y.a.parentcontent},b.backlogs)),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Allowed Branches"),s.a.createElement("div",{className:y.a.parentcontent},Object.entries(b.branchesAllowed).map(e=>{let[t,a]=e;return s.a.createElement("div",{key:t},s.a.createElement("span",{className:"fw-bolder"},t),":"," ",a.join(", "))}))),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Registration last date"),s.a.createElement("div",{className:y.a.parentcontent},Object(E.a)(b.lastDate).toDateString()," ","-",Object(E.a)(b.lastDate).toLocaleTimeString()))),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Coordinaters"),s.a.createElement("div",{className:y.a.parentcontent,style:{whiteSpace:"pre-line",wordBreak:"break-word",overflowWrap:"break-word",width:"100%"}},null===b||void 0===b?void 0:b.apc)),""!==(null===b||void 0===b?void 0:b.additional_info)&&s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Additional Info"),s.a.createElement("div",{className:y.a.parentcontent},null===b||void 0===b?void 0:b.additional_info)),""!==(null===b||void 0===b?void 0:b.optional_redirect)&&s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Form Link"),s.a.createElement("div",{className:y.a.parentcontent},s.a.createElement("a",{href:(null===b||void 0===b?void 0:b.optional_redirect)||"#",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"}},"Click Here"))))),s.a.createElement("div",{style:{padding:"30px 0"}},s.a.createElement("div",{style:{marginBottom:"30px"}},s.a.createElement("h5",null,"Job Description"),s.a.createElement("hr",null)),s.a.createElement("div",{style:{whiteSpace:"pre-line"}},b.description)),s.a.createElement("div",{style:{padding:"30px 0"}},s.a.createElement("div",{style:{marginBottom:"30px"}},s.a.createElement("h5",null,"Attached Documents"),s.a.createElement("hr",null)),s.a.createElement("div",null,b.attachments&&b.attachments.map((e,t)=>s.a.createElement("div",{key:t,className:y.a.file+" mb-2",style:{cursor:"pointer"},onClick:()=>window.open(e.url)},s.a.createElement("div",{className:y.a.fileicon},s.a.createElement("img",{src:"/pdf.png",width:"60%",alt:"pdf"})),s.a.createElement("div",{className:y.a.filetitle},e.name),s.a.createElement("div",{className:y.a.downloadicon},s.a.createElement("i",{style:{color:"#1456cf",fontSize:"20px"},className:"bi bi-download"})))))))),s.a.createElement("div",{className:y.a.resumediv},s.a.createElement("div",{style:{padding:"30px 0"}},s.a.createElement("div",{style:{marginBottom:"30px"}},s.a.createElement("h6",null,"Eligibility Criteria Evaluation Result"),s.a.createElement("p",{style:{fontSize:"13px"}},"Evaluated At: ",(new Date).toDateString()),s.a.createElement("hr",null)),s.a.createElement("div",{className:y.a.eligiblewrapper},T&&s.a.createElement("div",{style:{width:"80%"}},s.a.createElement("p",{style:{fontSize:"16px",fontWeight:"bold",color:"red"}},"You have already applied for this opportunity.")),K&&s.a.createElement("div",{style:{width:"80%"}},s.a.createElement("p",{style:{fontSize:"16px",display:"flex",fontWeight:"bold",color:"red"}},"You cannot apply for this opportunity because you are already placed.")),(!T||!K)&&s.a.createElement("div",{style:{width:"80%"}},s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},z&&!z.cgpa?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l}),"CGPA Criteria"),s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},z&&!z.batch?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l})," ","Batch Criteria"," "),!0===(null===b||void 0===b?void 0:b.optional_criteria)?s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},z&&!z.percentage_10th?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l})," ","10th Percentage"," "):s.a.createElement("div",null),!0===(null===b||void 0===b?void 0:b.optional_criteria)?s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},z&&!z.percentage_12th?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l})," ","12th Percentage"," "):s.a.createElement("div",null),s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},z&&!z.branch?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l})," ","Branch Criteria"," "),s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},z&&!z.degree?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l})," ","Degree Criteria"," "),s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},z&&!z.backlogs?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l}),"Backlogs Criteria"),s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},z&&!z.ban?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l}),"Ban Criteria"),s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},z&&!z.gender?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l}),"Gender Criteria")))),s.a.createElement(r.a,null,s.a.createElement(r.a.Group,{className:"mb-3"},!Y&&!T&&_&&(null===O||void 0===O?void 0:O.map(e=>s.a.createElement("div",{key:e.ques,style:{marginBottom:"1rem"}},s.a.createElement(r.a.Label,{style:{color:"black",whiteSpace:"pre-line",wordBreak:"break-word"}},e.ques),"multi"===e.type?s.a.createElement(s.a.Fragment,null,e.options.map((t,a)=>s.a.createElement("div",{key:a,className:"mb-3"},s.a.createElement(r.a.Check,{type:"checkbox",id:"multi-checkbox-"+a,label:t,onChange:t=>{const a=t.target.id,n=a[a.length-1],l=t.target.checked;D.forEach(t=>{t.ques===e.ques&&(l?t.expectedAns+=t.options[n]+", ":t.expectedAns=t.expectedAns.replace(t.options[n]+", ",""));const a=null===D||void 0===D?void 0:D.every(e=>""!==e.expectedAns);B(a)})}})))):"single"===e.type?s.a.createElement(s.a.Fragment,null,e.options.map((t,a)=>s.a.createElement("div",{key:a,className:"mb-3"},s.a.createElement(r.a.Check,{type:"radio",id:"single-radio-"+a,label:t,name:e.ques,onChange:t=>{const a=t.target.id,n=a[a.length-1];D.forEach(t=>{t.ques===e.ques&&(t.expectedAns=t.options[n]);const a=null===D||void 0===D?void 0:D.every(e=>""!==e.expectedAns.trim());B(a)})}})))):"file"===e.type?s.a.createElement(r.a.Control,{type:"file",required:!0,accept:".pdf",style:{marginBottom:"1rem"},onChange:t=>{const a=t.target.files[0];if(a){const n=H.filter(t=>t.question!==e.ques);n.push({file:a,question:e.ques}),J(n),D.forEach(a=>{a.ques===e.ques&&(a.expectedAns="https://tnpnsut-files.s3.ap-south-1.amazonaws.com/"+t.target.files[0].name);const n=null===D||void 0===D?void 0:D.every(e=>""!==e.expectedAns.trim());B(n)})}}}):s.a.createElement(r.a.Control,{type:"text",required:!0,placeholder:e.expectedAns,style:{marginBottom:"1rem",wordBreak:"break-word",whiteSpace:"pre-line"},onChange:t=>{D.forEach(a=>{a.ques===e.ques&&(a.expectedAns=t.target.value);const n=null===D||void 0===D?void 0:D.every(e=>""!==e.expectedAns.trim());B(n)})}})))),!T&&_&&s.a.createElement(s.a.Fragment,null,s.a.createElement(r.a.Label,{style:{color:"black"}},"Select a Resume"),s.a.createElement(i.a,null,s.a.createElement(i.a.Text,null,s.a.createElement(l.a,{icon:n.i})),s.a.createElement(r.a.Select,{value:C,onChange:e=>{k(e.target.value)}},N&&N.map((e,t)=>s.a.createElement("option",{key:t,value:e.url},e.name)))))),T&&s.a.createElement(o.a,{type:"submit",style:{width:"100%",background:"linear-gradient(to right, #2A2D3E, #202332)",borderColor:"#202332",marginTop:"1rem"},disabled:Y||!T,onClick:e=>(async e=>{e.preventDefault();const t=f.eventid;try{await d.b.post("https://api.tnpnsut.in/registrations/"+t,{student_id:h.userDetails.student}).then(e=>{200==e.status?(console.log(e),I(!1),F(e=>({...e,loading:!1,success:!0})),G(null===e||void 0===e?void 0:e.data),window.location.reload()):G(null===e||void 0===e?void 0:e.data)})}catch(a){throw G("Error withdrawing from role!"),a}})(e)},"Withdraw"),!T&&s.a.createElement(o.a,{type:"submit",style:{width:"100%",background:"linear-gradient(to right, #fb7b4a, #ee3344)",borderColor:"#fb7b4a",marginTop:"1rem"},disabled:!q||!_||""===C||Y||T,onClick:()=>U()},"Apply")),!Y&&!q&&_&&s.a.createElement("p",{style:{color:"red",fontWeight:"bolder"},className:"text-red"},"Please fill the above form to apply"),Y&&s.a.createElement("p",{style:{color:"red"},className:"text-red"},"Registration Date has passed")))))}}}]);
//# sourceMappingURL=13.e057b188.chunk.js.map