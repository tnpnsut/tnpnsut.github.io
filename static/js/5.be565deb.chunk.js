(this["webpackJsonptnp-nsut"]=this["webpackJsonptnp-nsut"]||[]).push([[5],{384:function(e,t,n){e.exports=n.p+"static/media/plus-solid.d4055c0a.svg"},425:function(e,t,n){},431:function(e,t,n){},432:function(e,t,n){},433:function(e,t,n){var a={"./General.svg":434,"./Hackathon.svg":435,"./Internship.svg":436,"./Placement.svg":437,"./Shortlist.svg":438,"./Update.svg":439,"./Webinar.svg":440,"./github.svg":441,"./google-tag-manager.svg":442,"./google_analytics.svg":443,"./old_update.svg":444,"./plus-solid.svg":384};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=433},434:function(e,t,n){e.exports=n.p+"static/media/General.21efa377.svg"},435:function(e,t,n){e.exports=n.p+"static/media/Hackathon.ae37a854.svg"},436:function(e,t,n){e.exports=n.p+"static/media/Internship.808d4404.svg"},437:function(e,t,n){e.exports=n.p+"static/media/Placement.c5c9c176.svg"},438:function(e,t,n){e.exports=n.p+"static/media/Shortlist.51564fb5.svg"},439:function(e,t,n){e.exports=n.p+"static/media/Update.82a4a362.svg"},440:function(e,t,n){e.exports=n.p+"static/media/Webinar.e6274850.svg"},441:function(e,t,n){e.exports=n.p+"static/media/github.34119f98.svg"},442:function(e,t,n){e.exports=n.p+"static/media/google-tag-manager.68bcd58c.svg"},443:function(e,t,n){e.exports=n.p+"static/media/google_analytics.95a87f80.svg"},444:function(e,t,n){e.exports=n.p+"static/media/old_update.1adfd22f.svg"},556:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(36),i=n(22),o=n.n(i),s=n(21),l=n(42),u=n(106),d=n(336),p=n(109),m=n(62),f=n(43),g=n(383),v=n.n(g),b=(n(425),function(e){var t=e.htmlText;return r.a.createElement("div",{className:"html-text",dangerouslySetInnerHTML:{__html:v.a.sanitize(t)}})}),h=n(426),x=(n(430),n(6)),y=n(111);n(431),n(432);var E=function(e){var t=e.type;return r.a.createElement("img",{src:n(433)("./".concat(t,".svg")),alt:"icon",style:{width:"80%",height:"80%"}})},w=n(18),k="BELqxt1OA-x3CSPf2TMWA5vdZAljkYU3oNeQfY5SmT5uZm0N1LxGv_s6SU_O26z4nDQAtbCq4N-TZgbXyaOqb2M";function O(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),a=new Uint8Array(n.length),r=0;r<n.length;++r)a[r]=n.charCodeAt(r);return a}function j(e,t,n,a){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(o.a.mark((function e(t,n,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.b.post("/notifications",{Batch:n,notify:t,student:a,degree:r});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(){var e=Object(a.useContext)(w.a).state.profileData,t=null===e||void 0===e?void 0:e.degree,i=null===e||void 0===e?void 0:e.campus,g=null===e||void 0===e?void 0:e.batch,v=null===e||void 0===e?void 0:e.id,S=Object(a.useState)(0),_=Object(s.a)(S,2),N=_[0],T=_[1];Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("serviceWorker"in navigator){e.next=2;break}return e.abrupt("return");case 2:if("PushManager"in window){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,navigator.serviceWorker.register("./service-worker.js",{scope:"/"});case 7:return n=e.sent,console.log("Service Worker registered"),e.next=11,n.pushManager.getSubscription();case 11:if(a=e.sent,!!(null===a)){e.next=17;break}console.log("User is already subscribed."),e.next=23;break;case 17:return e.next=19,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:O(k)});case 19:r=e.sent,console.log("User is subscribed"),j(r,g,v,t),!0;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(4),console.error("Failed to register Service Worker or subscribe user:",e.t0);case 28:case"end":return e.stop()}}),e,null,[[4,25]])})));return function(){return e.apply(this,arguments)}})()()}),[k,g]);var C=Object(a.useState)({loading:!1,data:[],error:null}),U=Object(s.a)(C,2),A=U[0],W=U[1],M=Object(a.useState)(!0),D=Object(s.a)(M,2),z=D[0],P=D[1],I=Object(a.useState)(!0),L=Object(s.a)(I,2),R=L[0],V=L[1],B={Placement:"#5b7cf3",Internship:"#2cc972",Update:"#77d1e8",Webinar:"#ffc111",Hackathon:"#8e5bf3"},F=Object(x.g)();Object(a.useEffect)((function(){H()}),[]);var H=function(){var e=Object(l.a)(o.a.mark((function e(){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(Object(c.a)(Object(c.a)({},A),{},{loading:!0})),e.prev=1,e.next=4,f.b.get("/announcements?_sort=createdAt:desc&batch=".concat(g,"&_where[0][degrees_allowed_contains]=").concat(t,"&campus=").concat(i,"&_start=").concat(N,"&_limit=").concat(12));case 4:n=e.sent,a=n.data,r=A.data,a.length<12&&P(!1),a.map((function(e){return r.push(e)})),W({loading:!1,data:r,error:null}),T(N+12),V(!1),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),W({loading:!1,data:[],error:e.t0}),V(!1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return A.error?r.a.createElement("div",null,r.a.createElement("h1",null,"Error in fetching notifications.")):R?r.a.createElement(y.a,null):r.a.createElement("div",null,function(){if(A.data)return r.a.createElement(r.a.Fragment,null,0!==A.data.length&&r.a.createElement(h.VerticalTimeline,{animate:!1,layout:"1-column-left"},A.data.map((function(e,t){return r.a.createElement(h.VerticalTimelineElement,{contentArrowStyle:{display:"none"},contentStyle:{background:"transparent",boxShadow:"0px 4px 8px -2px rgba(16, 24, 40, 0.1), 0px 2px 4px -2px rgba(16, 24, 40, 0.06)",transform:"translateY(-5px)",padding:"15px",borderRadius:"8px"},onTimelineElementClick:function(){return F.push("/"===e.redirect_url?"/companies/".concat(e.event_id):e.redirect_url)},icon:r.a.createElement(E,{type:e.event_type}),iconStyle:{backgroundColor:B[e.event_type||"Update"],display:"flex",justifyContent:"center",alignItems:"center",width:"35px",height:"35px",borderRadius:"50%"},key:t},r.a.createElement(d.a,{className:"bg-transparent",style:{cursor:"pointer",overflowX:"hidden",borderRadius:"8px",background:"#fff"}},r.a.createElement(d.a.Body,{className:"p-0"},r.a.createElement(p.a,null,r.a.createElement(m.a,{sm:5,className:"d-flex align-items-center"},r.a.createElement("div",{className:"image bg-black rounded-circle d-flex justify-content-center align-items-center",style:{height:"50px",width:"50px",marginRight:"10px",overflow:"hidden"}},r.a.createElement("div",{className:"text-logo",style:{color:"white",fontSize:"1.8rem",fontWeight:"bolder"}},e.for.split(" ").length>1?e.for.split(" ")[0].substring(0,1)+e.for.split(" ")[1].substring(0,1):e.for.split(" ")[0].substring(0,1))),r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("h5",{style:{margin:"0",fontSize:"1.1rem"}},e.title),r.a.createElement("h6",{style:{color:"#6f7274",marginTop:"4px"}},e.for))),r.a.createElement(m.a,{sm:7,className:"d-flex flex-column align-items-start"},r.a.createElement(b,{htmlText:e.content}),r.a.createElement("div",{className:"d-flex w-100 justify-content-between mt-2"},r.a.createElement("p",{style:{margin:"0px",fontWeight:"700",fontSize:"0.9rem"}},new Date(e.createdAt).toString().slice(0,15),","," ",new Date(e.createdAt).toString().slice(16,21)),r.a.createElement("div",{className:"tag border rounded px-2 py-1 ".concat(e.event_type||"Update"),style:{backgroundColor:"#f0f0f0",fontWeight:"bold",fontSize:"0.8rem",width:"6rem",textAlign:"center"}},e.event_type||"Update")))))))})),z&&r.a.createElement(h.VerticalTimelineElement,{icon:r.a.createElement("img",{src:n(384),alt:"load_more",style:{width:"100%",height:"100%"}}),iconOnClick:H,iconStyle:{cursor:"pointer",backgroundColor:"#e44e72",width:"50px",height:"50px",borderRadius:"50%"}})))}(),function(){if(A.loading)return r.a.createElement(y.a,null)}(),function(){if(z)return r.a.createElement("div",{className:"d-flex justify-content-center mt-4"},r.a.createElement(u.a,{className:"view_more",variant:"dark",disabled:A.loading,onClick:H},A.loading?r.a.createElement(y.a,null):"View More"))}())},N=n(44),T=n.n(N);t.default=function(){var e=Object(a.useContext)(w.a).state,t=e.isLoading;return Object(a.useEffect)((function(){var t;!0===(null===e||void 0===e||null===(t=e.profileData)||void 0===t?void 0:t.banStatus)&&T.a.error("You are banned from this platform. Please contact the admin.")}),[]),t?r.a.createElement(y.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(N.Toaster,{position:"top-right",reverseOrder:!1}),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center flex-column w-80 mt-3 bg-white"},r.a.createElement("div",{className:"w-100",style:{paddingTop:"10px",paddingBottom:"10px"}},r.a.createElement(_,null))))}}}]);
//# sourceMappingURL=5.be565deb.chunk.js.map