{"version":3,"sources":["pages/studentside/Support/feedback/FeedbackItem.jsx","pages/studentside/Support/feedback/MyFeedbacks.jsx"],"names":["FeedbackItem","item","useState","show","setShow","handleClose","Card","className","style","cursor","overflowX","Body","Row","Col","sm","Title","id","Button","variant","onClick","margin","fontWeight","Date","createdAt","toString","slice","isResolved","resolved_date","resolved_by","Modal","onHide","size","Header","closeButton","Form","Group","Label","Control","name","value","feedback_data","as","rows","disabled","feedback_reply","Footer","MyFeedbacks","state","useContext","AuthContext","feedbacks","setFeedbacks","isLoading","setIsLoading","showResolved","setshowResolved","fetchMyFeedbacks","a","securedAxiosInstance","get","userDetails","student","then","response","data","catch","error","console","log","toast","fetchMyResolvedFeedbacks","useEffect","Loader","Container","Check","type","label","checked","onChange","map","index","key"],"mappings":"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","file":"static/js/13.14ac9321.chunk.js","sourcesContent":["import {\n  Button,\n  Card,\n  Col,\n  Form,\n  Modal,\n  Row,\n} from \"@themesberg/react-bootstrap\";\nimport React, { useState } from \"react\";\nimport \"./Feedback.css\";\n\nfunction FeedbackItem({ item }) {\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  return (\n    <>\n      <Card\n        className=\"bg-light mb-3\"\n        style={{ cursor: \"pointer\", overflowX: \"hidden\" }}\n      >\n        <Card.Body>\n          <Row>\n            <Col sm={5}>\n              <Card.Title>Feedback ID: {item.id}</Card.Title>\n              <Button className=\"mt-3\" variant=\"success\" onClick={handleShow}>\n                Details\n              </Button>\n            </Col>\n            <Col sm={7}>\n              <div className=\"d-flex flex-column align-items-start\">\n                <div className=\"d-flex w-100 p-1\">\n                  <div>\n                    <p style={{ margin: \"0px\", fontWeight: \"700\" }}>\n                      Created on :{\" \"}\n                      {new Date(item.createdAt).toString().slice(0, 15)}\n                    </p>\n                  </div>\n                  <div\n                    className={`tag border rounded px-1 ${\n                      item.isResolved ? \"resolved\" : \"pending\"\n                    }`}\n                  >\n                    {item.isResolved ? \"Resolved\" : \"Pending\"}\n                  </div>\n                </div>\n                <div className=\"d-flex w-100 p-1\">\n                  <div>\n                    <p style={{ margin: \"0px\", fontWeight: \"700\" }}>\n                      Resolved on :{\" \"}\n                      {item.isResolved\n                        ? `${new Date(item.resolved_date)\n                            .toString()\n                            .slice(0, 15)}`\n                        : \"NA\"}\n                    </p>\n                  </div>\n                </div>\n                <div className=\"d-flex w-100 p-1\">\n                  <div>\n                    <p style={{ margin: \"0px\", fontWeight: \"700\" }}>\n                      Resolved By : {item.isResolved ? item.resolved_by : \"NA\"}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </Card.Body>\n      </Card>\n      <Modal show={show} onHide={handleClose} size=\"lg\">\n        <Modal.Header closeButton>\n          <Modal.Title className=\"text-center\">Feedback Or Query</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form.Group>\n            <Form.Label>Feedback Or Query :</Form.Label>\n            <Form.Control\n              className=\"mr-2\"\n              name=\"feedback_data\"\n              value={item.feedback_data}\n              id=\"feedback_data\"\n              as=\"textarea\"\n              rows={5}\n              disabled\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Reply :</Form.Label>\n            <Form.Control\n              className=\"mr-2\"\n              name=\"feedback_data\"\n              value={item.isResolved ? item.feedback_reply : \" \"}\n              id=\"feedback_data\"\n              as=\"textarea\"\n              rows={5}\n              disabled\n            />\n          </Form.Group>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n\nexport default FeedbackItem;\n","import React, { useContext } from 'react'\nimport { useState, useEffect } from 'react';\nimport { AuthContext } from '../../../../context/AuthContext';\nimport { securedAxiosInstance } from '../../../../axiosConfig';\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { Card, Container, Form } from \"@themesberg/react-bootstrap\"\nimport Loader from \"../../../../components/Loader\";\nimport FeedbackItem from './FeedbackItem';\n\nfunction MyFeedbacks() {\n    const { state } = useContext(AuthContext);\n    const [feedbacks, setFeedbacks] = useState([]);\n    const [isLoading, setIsLoading] = useState(false);\n    const [showResolved, setshowResolved] = useState(false);\n\n    const fetchMyFeedbacks = async () => {\n        securedAxiosInstance\n            .get(`/feedbacks?_where[0][student_id]=${state.userDetails.student}&_sort=createdAt:desc`)\n            .then((response) => {\n                setFeedbacks(response.data)\n                setIsLoading(false)\n            })\n            .catch((error) => {\n                setIsLoading(false)\n                console.log(error, error.response);\n                toast.error(\"Something Went Wrong!\")\n            })\n    }\n\n    const fetchMyResolvedFeedbacks = async () => {\n        securedAxiosInstance\n            .get(`/feedbacks?_where[0][isResolved]=true&_where[1][student_id]=${state.userDetails.student}&_sort=createdAt:desc`)\n            .then((response) => {\n                setFeedbacks(response.data)\n                setIsLoading(false)\n            })\n            .catch((error) => {\n                setIsLoading(false)\n                console.log(error, error.response);\n                toast.error(\"Something Went Wrong!\")\n            })\n    }\n\n    useEffect(() => {\n        setIsLoading(true)\n        if(showResolved){\n            fetchMyResolvedFeedbacks();\n        } else {\n            fetchMyFeedbacks();\n        }\n\n        // eslint-disable-next-line\n    }, [showResolved])\n\n    if (isLoading) return <Loader />; \n\n  return (\n    <Container className=\"p-4\">\n        <Toaster />\n        <Card className=\"p-4\">\n            <div className=\"d-flex justify-content-between align-items-center mb-3\">\n            <div className=\"text-center flex-grow-1\">\n                <h3 className=\"mb-0\">My Feedbacks Or Queries</h3>\n            </div>\n            <div>\n                <Form.Check\n                type=\"switch\"\n                id=\"custom-switch\"\n                label=\"Show Resolved\"\n                className=\"mb-0\"\n                checked={showResolved}\n                onChange={() => setshowResolved(!showResolved)}\n                />\n            </div>\n            </div>\n            {feedbacks.map((item, index) => (\n                <FeedbackItem key={index} item={item} />\n            ))}\n        </Card>\n    </Container>\n  )\n}\n\nexport default MyFeedbacks"],"sourceRoot":""}