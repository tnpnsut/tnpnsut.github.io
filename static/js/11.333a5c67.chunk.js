(this["webpackJsonptnp-nsut"]=this["webpackJsonptnp-nsut"]||[]).push([[11],{160:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));const n=e=>{let a=new Date(e);return a.setHours(a.getHours()),a.setMinutes(a.getMinutes()),a}},161:function(e,a,t){"use strict";t.d(a,"b",(function(){return l})),t.d(a,"c",(function(){return r})),t.d(a,"a",(function(){return i}));var n=t(32);async function l(e){const a=new FormData;return a.append("files",e),await n.b.post("/upload",a)}async function r(e,a){if(!e)return;const t=await l(e);return await n.b.put("/students/resume",{uploadId:t.data[0]._id,index:a})}async function i(e){if(e)return await n.b.put("/students/resume/"+e)}},169:function(e,a,t){e.exports={outerdiv:"Companydetails_outerdiv__3K0H1",companybar:"Companydetails_companybar__23Sj-",wrapper:"Companydetails_wrapper__z9mdp",contentdiv:"Companydetails_contentdiv__1tnFf",resumediv:"Companydetails_resumediv__2HLKP",hero:"Companydetails_hero__19a3J",companylogo:"Companydetails_companylogo__3MDiK",typetag:"Companydetails_typetag__2OlVK",parent:"Companydetails_parent__28pXE",parenttag:"Companydetails_parenttag__1nQ84",file:"Companydetails_file__2UJ9i",fileicon:"Companydetails_fileicon__3-M_8",filetitle:"Companydetails_filetitle__3KaqA",downloadicon:"Companydetails_downloadicon__1U-ng",eligiblewrapper:"Companydetails_eligiblewrapper__2zcKs",companycontentwrapper:"Companydetails_companycontentwrapper__1ZZrW"}},170:function(e,a,t){"use strict";var n=t(3),l=t(2),r=t(5),i=t.n(r),c=t(0),o=t.n(c),s=t(24),d=t(6),m=t(55),p=Object(s.a)("input-group-text",{Component:"span"}),u=o.a.forwardRef((function(e,a){var t=e.bsPrefix,r=e.size,c=e.className,s=e.as,m=void 0===s?"div":s,p=Object(n.a)(e,["bsPrefix","size","className","as"]);return t=Object(d.a)(t,"input-group"),o.a.createElement(m,Object(l.a)({ref:a},p,{className:i()(c,t,r&&t+"-"+r)}))}));u.displayName="InputGroup";var g=Object(l.a)({},u,{Text:p,Radio:function(e){return o.a.createElement(p,null,o.a.createElement(m.a,Object(l.a)({type:"radio"},e)))},Checkbox:function(e){return o.a.createElement(p,null,o.a.createElement(m.a,Object(l.a)({type:"checkbox"},e)))}});a.a=g},226:function(e,a,t){"use strict";t.r(a);var n=t(12),l=t(30),r=t(31),i=t(170),c=t(62),o=t(0),s=t.n(o),d=t(32),m=t(66),p=t(17),u=t(70),g=t(169),y=t.n(g),E=t(160),v=t(161);a.default=e=>{var a,t;let{match:g}=e;const{params:f}=g,{state:h}=Object(o.useContext)(p.a),[b,x]=Object(o.useState)({}),[_,N]=Object(o.useState)(!0),[w,S]=Object(o.useState)([]),[C,z]=Object(o.useState)(""),[j,O]=Object(o.useState)(),[k,A]=Object(o.useState)(null),[D,R]=Object(o.useState)([]),[q,P]=Object(o.useState)(!0);console.log(D);const[F,B]=Object(o.useState)({loading:!1,success:!1,error:!1}),[T,I]=Object(o.useState)(!1),[K,G]=Object(o.useState)(!1),{showNotification:H}=Object(o.useContext)(u.a),[J,L]=Object(o.useState)([]),[M,W]=Object(o.useState)(!1);const U=async()=>{B(e=>({...e,loading:!0}));try{if(J&&J.length>0){const e=await Promise.all(J.map(e=>{let{file:a,question:t}=e;return async function(e,a){if(!e)return;const t=new FormData;try{t.append(""+a,e);const n=await v.b(e);return 200===n.status&&(D.map(e=>{var a;"file"==e.type&&(e.expectedAns=null===n||void 0===n||null===(a=n.data[0])||void 0===a?void 0:a.url)}),!0)}catch(n){return!1}}(a,t)}));if(!e.every(e=>!0===e))return void H("Failed to apply in the company Event")}await d.b.put("/company-events/apply/"+f.eventid,{studentID:h.userDetails.student,student_resume:C,Additional_answers:D});I(!0),B(e=>({...e,loading:!1,success:!0})),H("Successfully Applied!")}catch(e){B(e=>({...e,loading:!1,success:!1,error:!0})),H("Failed to apply in the company Event"),console.log(e)}};if(Object(o.useEffect)(()=>{(async()=>{try{B(e=>({...e,loading:!0}));const e=await d.b.get("/company-events/"+f.eventid);!0===e.data.is_additional_ques?(A(e.data.additional_ques),R(e.data.additional_ques),P(!1)):(A(null),R(null));const a={};e.data.branchesAllowed.forEach(e=>{const{branch:t,degree:n}=e;n in a?a[n].push(t):a[n]=[t]}),e.data.branchesAllowed=a,x(e.data),B(e=>({...e,loading:!1}))}catch(e){console.log(e)}})(),(async()=>{try{const e=await d.b.get(`/company-events/is_student_eligible/${f.eventid}?studentID=${h.userDetails.student}`);e.data.eligible.conditions.already_applied&&I(!0),e.data.eligible.conditions.already_placed&&G(!0),O(e.data.eligible.conditions),B(e=>({...e,loading:!1})),N(e.data.eligible.status)}catch(e){console.log(e)}})(),(async()=>{try{B(e=>({...e,loading:!0}));const e=await d.b.get("/students/resumes");S(e.data.resumes),z(e.data.resumes[0].url),B(e=>({...e,loading:!1}))}catch(e){console.log(e)}})()},[]),F.loading)return s.a.createElement(m.a,null);const Y=new Date(b.lastDate).getTime()<Date.now();return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:y.a.outerdiv},s.a.createElement("div",{className:y.a.companybar},s.a.createElement("h6",null,b.company?b.company.Name:""," |"," ",b.jobtitle)),s.a.createElement("div",{className:y.a.wrapper},s.a.createElement("div",{className:y.a.contentdiv},s.a.createElement("div",{className:y.a.hero}),s.a.createElement("div",{className:y.a.companylogo+" d-flex justify-content-center align-items-center"},s.a.createElement("img",{src:`https://tnp-company-logos.s3.ap-south-1.amazonaws.com/${null===(a=b.company)||void 0===a?void 0:a.Name}.png`,alt:"Keep going!! You'll reach there."})),s.a.createElement("div",{className:y.a.companycontentwrapper},s.a.createElement("div",{style:{padding:"30px 0px 0px"}},s.a.createElement("h3",null,b.jobtitle),s.a.createElement("h6",null,b.company?b.company.Name:""),s.a.createElement("div",{className:y.a.typetag},b.type),s.a.createElement("hr",{style:{marginTop:"30px"}})),s.a.createElement("div",{style:{padding:"30px 0"}},s.a.createElement("div",{style:{marginBottom:"30px"}},s.a.createElement("h5",null,"Opening Overview"),s.a.createElement("hr",null)),s.a.createElement("div",null,s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Place of Posting"),s.a.createElement("div",{className:y.a.parentcontent},b.placeOfPosting)),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Batch"),s.a.createElement("div",{className:y.a.parentcontent},b.batch)),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"CTC/Stipend"),s.a.createElement("div",{className:y.a.parentcontent},b.stipend)),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"CTC/Stipend Info."),s.a.createElement("div",{className:y.a.parentcontent},b.stipend_info?b.stipend_info:"Not Mentioned")),("Placement"===b.type||"Internship"===b.type)&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"CGPA"),s.a.createElement("div",{className:y.a.parentcontent},b.cgpa)),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Category"),s.a.createElement("div",{className:y.a.parentcontent},null===(t=b.category)||void 0===t?void 0:t.toUpperCase())),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Backlogs"),s.a.createElement("div",{className:y.a.parentcontent},b.backlogs)),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Allowed Branches"),s.a.createElement("div",{className:y.a.parentcontent},Object.entries(b.branchesAllowed).map(e=>{let[a,t]=e;return s.a.createElement("div",{key:a},s.a.createElement("span",{className:"fw-bolder"},a),":"," ",t.join(", "))}))),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Registration last date"),s.a.createElement("div",{className:y.a.parentcontent},Object(E.a)(b.lastDate).toDateString()," ","-",Object(E.a)(b.lastDate).toLocaleTimeString()))),s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Coordinaters"),s.a.createElement("div",{className:y.a.parentcontent,style:{whiteSpace:"pre-line"}},null===b||void 0===b?void 0:b.apc)),""!==(null===b||void 0===b?void 0:b.additional_info)&&s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Additional Info"),s.a.createElement("div",{className:y.a.parentcontent},null===b||void 0===b?void 0:b.additional_info)),""!==(null===b||void 0===b?void 0:b.optional_redirect)&&s.a.createElement("div",{className:y.a.parent},s.a.createElement("div",{className:y.a.parenttag},"Form Link"),s.a.createElement("div",{className:y.a.parentcontent},s.a.createElement("a",{href:(null===b||void 0===b?void 0:b.optional_redirect)||"#",target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"}},"Click Here"))))),s.a.createElement("div",{style:{padding:"30px 0"}},s.a.createElement("div",{style:{marginBottom:"30px"}},s.a.createElement("h5",null,"Job Description"),s.a.createElement("hr",null)),s.a.createElement("div",{style:{whiteSpace:"pre-line"}},b.description)),s.a.createElement("div",{style:{padding:"30px 0"}},s.a.createElement("div",{style:{marginBottom:"30px"}},s.a.createElement("h5",null,"Attached Documents"),s.a.createElement("hr",null)),s.a.createElement("div",null,b.attachments&&b.attachments.map((e,a)=>s.a.createElement("div",{key:a,className:y.a.file+" mb-2",style:{cursor:"pointer"},onClick:()=>window.open(e.url)},s.a.createElement("div",{className:y.a.fileicon},s.a.createElement("img",{src:"/pdf.png",width:"60%",alt:"pdf"})),s.a.createElement("div",{className:y.a.filetitle},e.name),s.a.createElement("div",{className:y.a.downloadicon},s.a.createElement("i",{style:{color:"#1456cf",fontSize:"20px"},className:"bi bi-download"})))))))),s.a.createElement("div",{className:y.a.resumediv},s.a.createElement("div",{style:{padding:"30px 0"}},s.a.createElement("div",{style:{marginBottom:"30px"}},s.a.createElement("h6",null,"Eligibility Criteria Evaluation Result"),s.a.createElement("p",{style:{fontSize:"13px"}},"Evaluated At: ",(new Date).toDateString()),s.a.createElement("hr",null)),s.a.createElement("div",{className:y.a.eligiblewrapper},T&&s.a.createElement("div",{style:{width:"80%"}},s.a.createElement("p",{style:{fontSize:"16px",fontWeight:"bold",color:"red"}},"You have already applied for this opportunity.")),K&&s.a.createElement("div",{style:{width:"80%"}},s.a.createElement("p",{style:{fontSize:"16px",display:"flex",fontWeight:"bold",color:"red"}},"You cannot apply for this opportunity because you are already placed.")),(!T||!K)&&s.a.createElement("div",{style:{width:"80%"}},s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},j&&!j.cgpa?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l}),"CGPA Criteria"),s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},j&&!j.batch?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l})," ","Batch Criteria"," "),!0===(null===b||void 0===b?void 0:b.optional_criteria)?s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},j&&!j.percentage_10th?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l})," ","10th Percentage"," "):s.a.createElement("div",null),!0===(null===b||void 0===b?void 0:b.optional_criteria)?s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},j&&!j.percentage_12th?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l})," ","12th Percentage"," "):s.a.createElement("div",null),s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},j&&!j.branch?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l})," ","Branch Criteria"," "),s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},j&&!j.degree?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l})," ","Degree Criteria"," "),s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},j&&!j.backlogs?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l}),"Backlogs Criteria"),s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},j&&!j.ban?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l}),"Ban Criteria"),s.a.createElement("p",{style:{fontSize:"16px",display:"flex"}},j&&!j.gender?s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"green"},icon:n.d}):s.a.createElement(l.a,{style:{fontSize:"23px",marginRight:"10px",color:"red"},icon:n.l}),"Gender Criteria")))),s.a.createElement(r.a,null,s.a.createElement(r.a.Group,{className:"mb-3"},!Y&&!T&&_&&(null===k||void 0===k?void 0:k.map(e=>s.a.createElement(s.a.Fragment,null,s.a.createElement(r.a.Label,{style:{color:"black"}},e.ques),"multi"===e.type?s.a.createElement(s.a.Fragment,null,e.options.map((a,t)=>s.a.createElement("div",{key:t,className:"mb-3"},s.a.createElement(r.a.Check,{type:"checkbox",id:"multi-checkbox-"+t,label:a,onChange:a=>{const t=a.target.id,n=t[t.length-1],l=a.target.checked;D.forEach(a=>{a.ques===e.ques&&(l?a.expectedAns+=a.options[n]+", ":a.expectedAns=a.expectedAns.replace(a.options[n]+", ",""));const t=null===D||void 0===D?void 0:D.every(e=>""!==e.expectedAns);P(t)})}})))):"single"===e.type?s.a.createElement(s.a.Fragment,null,e.options.map((a,t)=>s.a.createElement("div",{key:t,className:"mb-3"},s.a.createElement(r.a.Check,{type:"radio",id:"single-radio-"+t,label:a,name:e.ques,onChange:a=>{const t=a.target.id,n=t[t.length-1];D.forEach(a=>{a.ques===e.ques&&(a.expectedAns=a.options[n]);const t=null===D||void 0===D?void 0:D.every(e=>""!==e.expectedAns.trim());P(t)})}})))):"file"===e.type?s.a.createElement(r.a.Control,{type:"file",required:!0,accept:".pdf",onChange:a=>{const t=a.target.files[0];if(t){const n=J.filter(a=>a.question!==e.ques);n.push({file:t,question:e.ques}),L(n),D.forEach(t=>{t.ques===e.ques&&(t.expectedAns="https://tnpnsut-files.s3.ap-south-1.amazonaws.com/"+a.target.files[0].name);const n=null===D||void 0===D?void 0:D.every(e=>""!==e.expectedAns.trim());P(n)})}}}):s.a.createElement(r.a.Control,{type:"text",required:!0,placeholder:e.expectedAns,onChange:a=>{D.forEach(t=>{t.ques===e.ques&&(t.expectedAns=a.target.value);const n=null===D||void 0===D?void 0:D.every(e=>""!==e.expectedAns.trim());P(n)})}})))),_&&!T&&s.a.createElement(s.a.Fragment,null,s.a.createElement(r.a.Label,{style:{color:"black"}},"Select a Resume"),s.a.createElement(i.a,null,s.a.createElement(i.a.Text,null,s.a.createElement(l.a,{icon:n.i})),s.a.createElement(r.a.Select,{value:C,onChange:e=>{z(e.target.value)}},w&&w.map((e,a)=>s.a.createElement("option",{key:a,value:e.url},e.name)))))),T&&s.a.createElement(c.a,{type:"submit",style:{width:"100%",background:"linear-gradient(to right, #2A2D3E, #202332)",borderColor:"#202332",marginTop:"1rem"},disabled:Y||!T,onClick:e=>(async e=>{e.preventDefault();const a=f.eventid;try{await d.b.post("https://api.tnpnsut.in/registrations/"+a,{student_id:h.userDetails.student}).then(e=>{200==e.status?(console.log(e),I(!1),B(e=>({...e,loading:!1,success:!0})),H(null===e||void 0===e?void 0:e.data),window.location.reload()):H(null===e||void 0===e?void 0:e.data)})}catch(t){throw H("Error withdrawing from role!"),t}})(e)},"WithDraw"),!T&&s.a.createElement(c.a,{type:"submit",style:{width:"100%",background:"linear-gradient(to right, #fb7b4a, #ee3344)",borderColor:"#fb7b4a",marginTop:"1rem"},disabled:!q||!_||""===C||Y||T,onClick:()=>U()},"Apply")),!Y&&!q&&_&&s.a.createElement("p",{style:{color:"red",fontWeight:"bolder"},className:"text-red"},"Please fill the above form to apply"),Y&&s.a.createElement("p",{style:{color:"red"},className:"text-red"},"Registration Date has passed")))))}}}]);
//# sourceMappingURL=11.333a5c67.chunk.js.map